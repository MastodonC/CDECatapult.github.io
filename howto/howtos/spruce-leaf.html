---
layout: howto
title: How Tos and Case Studies - Open Health Data Platform
page_title: How Tos &amp; Case Studies
icon: circle-lightbulb.png
---

<div class="container">
  <div class="title clearfix">
    <img src="/assets/images/{{ page.icon }}" class="icon" alt="">
    
    <h1>{{ page.page_title }}</h1>
  </div>
  
  <div class="case-studies">
    <h2>Creating Spruce Leaf Maps</h2>
    
    <div class="row">
      <div class="col-sm-12 intro-column the-challenge">
        <p>
          Spruce-leaf is a visualization grammar - a
          declarative format for creating interactive leaflet maps.
          With spruce-leaf you can describe the visualisation
          in JSON format: merge geojson with CSV file, colour
          the features, add legend and info box.
        </p>
      </div>
    </div>
  </div>
</div>

<div class="tutorial">
  <div class="container">
    <div class="row howto-top">
      <div class="col-sm-6">
        <h2>How To</h2>
        <h3>Create Spruce Leaf Maps</h3>
      </div>
      
      <div class="col-sm-6">
        <ul class="howto-links row">
          <li class="col-sm-6 gethelp"><a href="#">Get help</a></li>
          <li class="col-sm-6 tutorial-files"><a href="#">Download tutorial files (.zip)</a></li>
          <li class="col-sm-6 live-example"><a href="#">See live example</a></li>
          <li class="col-sm-6 github"><a href="#">Get the files on Github</a></li>
        </ul>
      </div>
    </div>
    
    <div class="step zebra1">
      <div class="step-circle">1</div>
      
      <div class="row step-content">
        <div class="col-sm-6 step-map">
          <div id="step-1-map" style="width: 100%; height: 300px;"></div>
          
          <script>
            $(function() {
              var map;
              function initialize() {
                var mapOptions = {
                  zoom: 8,
                  center: new google.maps.LatLng(-34.397, 150.644)
                };
                
                map = new google.maps.Map(document.getElementById('step-1-map'), mapOptions);
              }

              google.maps.event.addDomListener(window, 'load', initialize);
            });
          </script>
        </div>
        <div class="col-sm-6 step-text">
          <h4>Step one - Setting up</h4>
          
          <p>
            This chart shows how much money is spent on prescriptions
            for diabetes patients per month. The data is at the Clinical
            Commissioning Group (CCG) level, which is the way GP
            Surgeries have organised in England since 1 April 2013.
          </p>
          
          <p>
            The amount spent per diabetes patient ranges
            from roughly &pound;18 to &pound;31 per month.
          </p>
        </div>
      </div>
    </div>
    
    <div class="step zebra2">
      <div class="step-circle">2</div>
      
      <div class="row step-content">
        <div class="col-sm-6 step-text">
          <h4>Step two - Plugging into the API</h4>
          
          <p class="lead">
            Integer nisi velit, placerat vel aliquet at, pretium ut
            lacus. In sed quam quis sem imperdiet rutrum.
          </p>
          
          <p>
            Cras vitae diam quis magna commodo faucibus vitae id ipsum. 
            auris ut diam ut elit dictum porttitor. Pellentesque sodales
            pharetra nisi. Nam non elit risus. Etiam bibendum diam ut
            tellus sollicitudin porttitor. 
          </p>
          
          <a href="#" class="btn btn-default">
            <span class="subtext">HOW TO</span>
            <span class="text">Get data from HSCIC</span>
          </a>
        </div>
        
        <div class="col-sm-6 step-code">
          <pre>
module ActiveRecord
  class Migration
    module JoinTable #:nodoc:
      private

      def find_join_table_name(table_1, table_2, options = {})
        options.delete(:table_name)
      end

      def join_table_name(table_1, table_2)
        [table_1.to_s, table_2.to_s].sort.join("_").to_sym
      end
    end
  end
end
          </pre>
        </div>
      </div>
    </div>
    
    <div class="step zebra1">
      <div class="step-circle">3</div>
      
      <div class="row step-content">
        <div class="col-sm-6 step-text">
          <h4>Step three - Pull the data</h4>
          
          <p class="lead">
            Integer nisi velit, placerat vel aliquet at, pretium ut
            lacus. In sed quam quis sem imperdiet rutrum.
          </p>
          
          <p>
            Cras vitae diam quis magna commodo faucibus vitae id ipsum. 
            auris ut diam ut elit dictum porttitor. Pellentesque sodales
            pharetra nisi. Nam non elit risus. Etiam bibendum diam ut
            tellus sollicitudin porttitor. 
          </p>
          
          <a href="#" class="btn btn-default">
            <span class="subtext">HOW TO</span>
            <span class="text">Total Data per GP</span>
          </a>
        </div>
        
        <div class="col-sm-6 step-code">
          <pre>
module ActiveRecord
  class Migration
    module JoinTable #:nodoc:
      private

      def find_join_table_name(table_1, table_2, options = {})
        options.delete(:table_name)
      end

      def join_table_name(table_1, table_2)
        [table_1.to_s, table_2.to_s].sort.join("_").to_sym
      end
    end
  end
end
          </pre>
        </div>
      </div>
    </div>
    
    <div class="step zebra2">
      <div class="step-circle">4</div>
      
      <div class="row step-content">
        <div class="col-sm-6 step-map">
          <div id="step-6-map" style="width: 100%; height: 300px;"></div>
          
          <script>
            $(function() {
              var map;
              function initialize() {
                var mapOptions = {
                  zoom: 3,
                  center: new google.maps.LatLng(60.397, 50.644)
                };
                
                map = new google.maps.Map(document.getElementById('step-4-map'), mapOptions);
              }

              google.maps.event.addDomListener(window, 'load', initialize);
            });
          </script>
        </div>
        
        <div class="col-sm-5 step-text">
          <h4>Step four - Output</h4>
          
          <p>
            This chart shows how much money is spent on
            prescriptions for diabetes patients per month.
            The data is at the Clinical Commissioning Group
            (CCG) level, which is the way GP Surgeries have
            organised in England since 1 April 2013.
          </p>
          
          <p>
            The amount spent per diabetes patient ranges from
            roughly &pound;18 to &pound;31 per month.
          </p>
        </div>
      </div>
    </div>
    
    <div class="row join-collaborate">
      <div class="col-sm-6 text">
        Want to create a similar project?
        <br>
        Not sure what to do next?
        <br>
        Got questions about this project?
      </div>
      
      <div class="col-sm-6">
        <a href="#" class="btn btn-default">
          Join and Collaborate!
        </a>
      </div>
    </div>
  </div>
</div>
